<!DOCTYPE html>
<html lang="pt-br">
<head onload="lerdados()">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KDET</title>
    <style>
        body{
            align-items: center;
            background-color: black;
        }
        div{
            text-align: center;
            margin: 0 15%;
            background-color: white;
            padding: 25px;
        }
    </style>
</head>
<body onload="lerdados()">
    <div class="page-home">
        <h1>Controlador do esp</h1> 
        
        <p id="var1"></p>
         
        <form action="">
            <p>
                <label for="bot1">Porta 01</label>
                <input type="checkbox" name="bot1" id="portaa" value="1" onclick="clicar('a')">
            </p>
            <p>
                <label for="bot2">Porta 02: </label>
                <input type="checkbox" name="bot2" id="portab" value="2" onclick="clicar('b')">
            </p>
            <input type="submit" value="Enviar">
        </form>
    </div>

    <script>
        function lerdados(){
            var request = new XMLHttpRequest();
            request.onreadystatechange = function() {  
                if(this.readyState == 4 && this.status == 200){
                   
                    let resp = this.responseText
                    let obresp = JSON.parse(resp)
                    const porta = document.querySelector("p#var1")
                    porta.innerText = `Valor da porta: ${obresp.porta}`
                }
            }

            request.open("GET", "te.txt", true);//vai fazer essa requisição
            request.send(null);
            setTimeout('lerdados()', 5000);
        }
    </script>
</body>
</html>